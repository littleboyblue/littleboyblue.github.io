<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>新能源场站发电量监测</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <style>
        body, html { margin: 0; padding: 0; height: 100%; }
        #chart-container {
            width: 100%;
            height: 100%;
            min-width: 600px;
            min-height: 400px;
        }
        .title {
            text-align: center;
            font-family: "Microsoft YaHei";
            padding: 10px;
            font-size: 18px;
        }
    </style>
</head>
<body>
    <div class="title"></div>
    <div id="chart-container"></div>

    <script>
        // 1. 初始化图表
        const chart = echarts.init(document.getElementById('chart-container'));
        
        // 2. 准备数据（直接从表格转换）
        const timeData = [
            '00:00', '01:00', '02:00', '03:00', '04:00', 
            '05:00', '06:00', '07:00', '08:00', '09:00',
            '10:00', '11:00', '12:00', '13:00', '14:00',
            '15:00', '16:00', '17:00', '18:00', '19:00',
            '20:00', '21:00', '22:00', '23:00'
        ];
        
        const stationData = {
            'A': [0, 0, 0, 0, 0, 0, 15, 90, 240, 420, 580, 680, 720, 690, 600, 480, 330, 180, 50, 0, 0, 0, 0, 0],
            'B': [0, 0, 0, 0, 0, 0, 10, 80, 220, 400, 550, 650, 700, 670, 580, 460, 310, 160, 40, 0, 0, 0, 0, 0],
            'C': [0, 0, 0, 0, 0, 0, 20, 110, 260, 450, 620, 720, 750, 720, 630, 500, 350, 200, 60, 0, 0, 0, 0, 0],
            'D': [0, 0, 0, 0, 0, 0, 5, 70, 200, 380, 530, 630, 680, 650, 560, 440, 290, 140, 30, 0, 0, 0, 0, 0],
            'E': [0, 0, 0, 0, 0, 0, 12, 95, 230, 410, 570, 670, 710, 680, 590, 470, 320, 170, 45, 0, 0, 0, 0, 0]
        };

        // 3. 生成系列数据
        const series = Object.keys(stationData).map(station => ({
            name: '场站' + station,
            type: 'line',
            data: stationData[station],
            symbol: 'circle',
            symbolSize: 6,
            lineStyle: { width: 3 },
            emphasis: { focus: 'series' }
        }));

        // 4. 配置项
        const option = {
            tooltip: {
                trigger: 'axis',
                formatter: params => {
                    const time = timeData[params[0].dataIndex];
                    let res = `<div style="margin-bottom:5px">时间: ${time}</div>`;
                    params.forEach(item => {
                        res += `${item.marker} ${item.seriesName}: <strong>${item.data} kW</strong><br/>`;
                    });
                    // 添加备注信息
                    const notes = {
                        '00:00-05:00': '夜间无发电',
                        '06:00': '晨光始',
                        '12:00': '正午峰值',
                        '18:00': '日落'
                    };
                    if (notes[time]) res += `<div style="margin-top:5px;color:#666">备注: ${notes[time]}</div>`;
                    return res;
                }
            },
            legend: {
                data: series.map(item => item.name),
                top: 0,
                textStyle: { fontSize: 12 }
            },
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            xAxis: {
                type: 'category',
                boundaryGap: false,
                data: timeData,
                axisLabel: {
                    interval: 3,
                    rotate: 45
                }
            },
            yAxis: {
                type: 'value',
                name: '发电量 (kW)',
                axisLine: { show: true },
                axisLabel: { formatter: '{value}' }
            },
            series: series,
            dataZoom: [{
                type: 'inside',
                start: 0,
                end: 100
            }, {
                start: 0,
                end: 100,
                handleSize: '80%'
            }],
            color: ['#c23531','#2f4554','#61a0a8','#d48265','#91c7ae']
        };

        // 5. 应用配置
        chart.setOption(option);

        // 6. 响应窗口变化
        window.addEventListener('resize', function() {
            chart.resize();
        });
    </script>
</body>
</html>
