<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>紧凑型用户选择控件</title>
  <style>
    body {
      font-family: "Microsoft YaHei", sans-serif;
      margin: 20px;
    }

    .user-selector {
      width: 300px;
      border: 1px solid #ddd;
      border-radius: 6px;
      background: #fafafa;
      box-shadow: 0 1px 4px rgba(0,0,0,0.1);
    }

    /* 地区按钮 */
    .region-btn {
      width: 100%;
      padding: 4px 8px;
      background: #fff;
      border: none;
      text-align: left;
      font-size: 13px;
      font-weight: bold;
      cursor: pointer;
      border-bottom: 1px solid #eee;
      transition: background 0.2s;
    }
    .region-btn:hover {
      background: #f0f0f0;
    }
    .region-btn.active {
      background: #e6f7ff;
      color: #1890ff;
    }

    /* 展开内容区 */
    .region-content {
      display: none;
      padding: 8px;
      background: #fff;
      border-top: 1px solid #e8e8e8;
    }
    .region-content.active {
      display: block;
    }

    /* 等级标签页 */
    .level-tabs {
      display: flex;
      margin-bottom: 8px;
      border-bottom: 1px solid #eee;
    }
    .level-tab {
      padding: 4px 10px;
      font-size: 12px;
      cursor: pointer;
      border: 1px solid transparent;
      border-bottom: none;
      background: #f5f5f5;
      margin-right: 4px;
      border-radius: 4px 4px 0 0;
    }
    .level-tab.active {
      background: #fff;
      border-color: #ddd;
      border-bottom: 1px solid #fff;
      font-weight: bold;
    }

    /* 用户列表容器 - 滚动区域 */
    .user-list {
      max-height: 160px;
      overflow-y: auto;
      padding: 0;
      margin: 0;
      list-style: none;
    }

    .user-item {
      padding: 4px 6px;
      font-size: 12px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      cursor: pointer;
      border-radius: 3px;
    }
    .user-item:hover {
      background: #f0f0f0;
      /* Tooltip 效果 */
      position: relative;
    }
    .user-item:hover::after {
      content: attr(data-fullname);
      position: absolute;
      left: 100%;
      top: 0;
      margin-left: 8px;
      background: #333;
      color: #fff;
      padding: 4px 8px;
      border-radius: 3px;
      font-size: 12px;
      white-space: pre;
      z-index: 10;
      box-shadow: 0 2px 6px rgba(0,0,0,0.15);
    }

    /* 滚动条美化（可选） */
    .user-list::-webkit-scrollbar {
      width: 6px;
    }
    .user-list::-webkit-scrollbar-thumb {
      background: #ccc;
      border-radius: 3px;
    }
  </style>
</head>
<body>

<div class="user-selector">
  <!-- 示例：只写3个地区，实际可扩展到10个 -->
  <button class="region-btn" onclick="toggleRegion(this, 'region1')">华北地区</button>
  <div id="region1" class="region-content">
    <div class="level-tabs">
      <div class="level-tab active" onclick="switchTab(this, 'r1-l1')">普通用户</div>
      <div class="level-tab" onclick="switchTab(this, 'r1-l2')">高级用户</div>
      <div class="level-tab" onclick="switchTab(this, 'r1-l3')">VIP用户</div>
    </div>
    <ul class="user-list" id="r1-l1">
      <li class="user-item" data-fullname="张三李四王五赵六七钱孙周吴郑王">张三李四王五赵六七钱孙周吴郑王</li>
      <li class="user-item" data-fullname="用户名称最长二十三个汉字测试用例">用户名称最长二十三个汉字测试用例</li>
      <li class="user-item" data-fullname="刘能谢广坤赵四王大拿">刘能谢广坤赵四王大拿</li>
    </ul>
    <ul class="user-list" id="r1-l2" style="display:none;">
      <li class="user-item" data-fullname="高级用户甲乙丙丁戊己庚辛壬癸">高级用户甲乙丙丁戊己庚辛壬癸</li>
      <li class="user-item" data-fullname="高级管理员编号001">高级管理员编号001</li>
    </ul>
    <ul class="user-list" id="r1-l3" style="display:none;">
      <li class="user-item" data-fullname="VIP至尊用户-年度贡献最大奖得主">VIP至尊用户-年度贡献最大奖得主</li>
    </ul>
  </div>

  <button class="region-btn" onclick="toggleRegion(this, 'region2')">华东地区</button>
  <div id="region2" class="region-content">
    <div class="level-tabs">
      <div class="level-tab active" onclick="switchTab(this, 'r2-l1')">普通用户</div>
      <div class="level-tab" onclick="switchTab(this, 'r2-l2')">高级用户</div>
      <div class="level-tab" onclick="switchTab(this, 'r2-l3')">VIP用户</div>
    </div>
    <ul class="user-list" id="r2-l1">
      <li class="user-item" data-fullname="上海用户张三李四王五赵六">上海用户张三李四王五赵六</li>
      <li class="user-item" data-fullname="南京VIP体验用户-测试账户">南京VIP体验用户-测试账户</li>
    </ul>
    <ul class="user-list" id="r2-l2" style="display:none;">
      <li class="user-item" data-fullname="杭州高级用户-电商组">杭州高级用户-电商组</li>
    </ul>
    <ul class="user-list" id="r2-l3" style="display:none;">
      <li class="user-item" data-fullname="VIP至尊用户-华东区年度冠军">VIP至尊用户-华东区年度冠军</li>
    </ul>
  </div>

  <button class="region-btn" onclick="toggleRegion(this, 'region3')">华南地区</button>
  <div id="region3" class="region-content">
    <div class="level-tabs">
      <div class="level-tab active" onclick="switchTab(this, 'r3-l1')">普通用户</div>
      <div class="level-tab" onclick="switchTab(this, 'r3-l2')">高级用户</div>
      <div class="level-tab" onclick="switchTab(this, 'r3-l3')">VIP用户</div>
    </div>
    <ul class="user-list" id="r3-l1">
      <li class="user-item" data-fullname="广州用户-测试最长名称二十三个字">广州用户-测试最长名称二十三个字</li>
    </ul>
    <ul class="user-list" id="r3-l2" style="display:none;"></ul>
    <ul class="user-list" id="r3-l3" style="display:none;"></ul>
  </div>

  <!-- 可继续添加 region4 ~ region10 -->
</div>

<script>
  function toggleRegion(btn, contentId) {
    // 手风琴：收起其他
    document.querySelectorAll('.region-content').forEach(el => {
      if (el.id !== contentId) el.classList.remove('active');
    });
    document.querySelectorAll('.region-btn').forEach(el => {
      el.classList.remove('active');
    });

    // 切换当前
    const content = document.getElementById(contentId);
    const isActive = content.classList.contains('active');
    
    // 先全部收起
    document.querySelectorAll('.region-content').forEach(el => el.classList.remove('active'));
    document.querySelectorAll('.region-btn').forEach(el => el.classList.remove('active'));
    
    // 再展开点击的
    if (!isActive) {
      content.classList.add('active');
      btn.classList.add('active');
    }
  }

  function switchTab(tab, listId) {
    // 找到父容器下所有 user-list 和 level-tab
    const container = tab.closest('.region-content');
    container.querySelectorAll('.user-list').forEach(el => el.style.display = 'none');
    container.querySelectorAll('.level-tab').forEach(el => el.classList.remove('active'));

    // 激活当前
    tab.classList.add('active');
    document.getElementById(listId).style.display = 'block';
  }
</script>

</body>
</html>